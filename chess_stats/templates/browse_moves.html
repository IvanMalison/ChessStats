{% extends "layout.html" %}
{% block content %}
<div id="angular" class="board-table-container" ng-controller="MoveStatsCtrl" ng-init="init('<%username %>')">
  <ng-chess-board chessGame="chessGame"
                  square-size="50" light-color="#EDC8BB"
                  dark-color="#556270"></ng-chess-board>
  <table class="moves-tables">
    <tr>
      <td>
        <ng-move-list class="table table-striped table-bordered" id="moves-table"></ng-move-list>
      </td>
      <td class="containing-td span7">
        <table class="right table table-striped table-bordered">
          <th>Next Move</th>
          <th>White Wins <span>(# games)</span></th>
          <th>Black Wins <span>(# games)</span></th>
          <th>Draws <span>(# games)</span></th>
          <th>White Avg <span>(Elo)</span></th>
          <th>Black Avg <span>(Elo)</span></th>
          <tr class="row-stats" ng-repeat="moveStats in moveStatsList">
            <td>
              <span id="bold">
                <a ng-click="chessGame.makeMoveFromAlgebraic(moveStats.move)">
                  {{ moveStats.move }}
                </a>
              </span>
            </td>
            <td>{{ moveStats.white_win_pct.toFixed(2) * 100 | number:0 }}% ({{ moveStats.white_wins }})</td>
            <td>{{ moveStats.black_win_pct.toFixed(2) * 100 | number:0 }}% ({{moveStats.black_wins}})</td>
            <td>{{ moveStats.draw_pct.toFixed(2) * 100 | number:0 }}% ({{moveStats.draws}})</td>
            <td>{{ moveStats.white_average_elo.toFixed(0) }}</td>
            <td>{{ moveStats.black_average_elo.toFixed(0) }}</td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
</div>
{% endblock %}
